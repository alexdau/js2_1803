<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!--    <link rel="stylesheet" href="css/style.css">-->
  <!--    <link rel="stylesheet" href="css/normalize.css">-->
  <title>It's my webpack shop! ))</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>

</head>
<body>
<div id="app">

  <header>
    <div class="logo">{{ searchString == "" ? "E-Shop": searchString }}</div>
    <div class="cart">
      <form action="#" class="search-form">
        <input type="text" class="search-field" v-model="searchString" >
        <button class="btn-search" @click="updateSearch">
          <i class="fas fa-search"></i>
        </button>
      </form>
      <button class="btn-cart">{{ cartTitle }}</button>
      <div class="cart-block" v-if="cartItems.length <= 0">
        <h3>Нет данных</h3>
      </div>
      <div class="cart-block" v-if="cartItems.length > 0">
        <div class="d-flex">
          <strong class="d-block">{{ cartTotalItems }}</strong>
          <div id="quantity"></div>
        </div>
        <hr>
        <div class="cart-items" >

          <div class="cart-item" :data-id="item.id_product" v-for="item in cartItems">
            <img :src="item.img" alt="">
            <div class="product-desc">
              <p class="product-title">{{ item.product_name }}</p>
              <p class="product-quantity">{{ item.quantity }}</p>
              <p class="product-single-price">{{ item.price }}</p>
            </div>
            <div class="right-block">
              <button name="del-btn"
                      class="del-btn"
                      @click="deleteFromCart"
                      :data-id="item.id_product">&times;
              </button>
            </div>
          </div>

        </div>
        <hr>
        <div class="d-flex">
          <strong class="d-block">{{ cartTotalPrice }}</strong>
          <div id="price"></div>
        </div>
      </div>
    </div>
  </header>
  <main>
    <div class="products">
      <div class="product-item" v-for="item in catalog.showItems">
        <div class="product-item">
          <img :src="item.img" width="300" height="200" :alt="item.product_name">
          <div class="desc">
            <h1>{{item.product_name}}</h1>
            <p>{{item.price}}</p>
            <button
              class="buy-btn"
              name="buy-btn"
              :data-name="item.product_name"
              :data-price="item.price"
              :data-id="item.id_product"
            >Купить
            </button>
          </div>
        </div>
      </div>

    </div>
  </main>
</div>

<script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js"
        integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP"
        crossorigin="anonymous"></script>

</body>
</html>
